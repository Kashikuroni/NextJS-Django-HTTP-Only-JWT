{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrowlise/kashikuroni_tech/base_project_tamplate/frontend/src/services/backend-api/baseApi.ts"],"sourcesContent":["import axios, { AxiosError, AxiosInstance, AxiosRequestConfig } from \"axios\";\n\nexport class BaseApi {\n  protected api: AxiosInstance;\n\n  constructor() {\n    const baseURL =\n      process.env.NEXT_PUBLIC_DEVELOPMENT_HOST || \"http://localhost:8000\";\n    this.api = axios.create({\n      baseURL,\n      withCredentials: true,\n    });\n  }\n\n  /**\n   * Объединение заголовков.\n   * @param headers Дополнительные заголовки.\n   * @returns Итоговые заголовки.\n   */\n  private mergeHeaders(\n    headers?: Record<string, string>,\n  ): Record<string, string> {\n    const defaultHeaders: Record<string, string> = {\n      \"Content-Type\": \"application/json\",\n    };\n\n    const token = localStorage.getItem(\"userToken\");\n    if (token) {\n      defaultHeaders.Authorization = `Token ${token}`;\n    }\n    // Сначала в конечный headers попадет все что находиться\n    // в defaultHeaders, потом все что в headers, причем одинаковые ключи\n    // будут перезаписаны значением из headers. Такие как Content-Type например\n    return { ...defaultHeaders, ...headers };\n  }\n\n  /**\n   * Метод для выполнения POST-запроса.\n   * @param url URL для запроса.\n   * @param data Тело запроса.\n   * @param headers Дополнительные заголовки.\n   */\n  protected async post<D, R>(\n    url: string,\n    data?: D,\n    headers?: Record<string, string>,\n  ): Promise<R> {\n    const config: AxiosRequestConfig = {\n      headers: this.mergeHeaders(headers),\n    };\n    const response = await this.api.post<R>(url, data, config);\n    return response.data;\n  }\n\n  /**\n   * Метод для выполнения GET-запроса.\n   * @param url URL для запроса.\n   * @param headers Дополнительные заголовки.\n   */\n  protected async get<R>(\n    url: string,\n    headers?: Record<string, string>,\n  ): Promise<R> {\n    const config: AxiosRequestConfig = {\n      headers: this.mergeHeaders(headers),\n    };\n    const response = await this.api.get<R>(url, config);\n    return response.data;\n  }\n\n  protected handleError = (error: AxiosError) => {\n    const simpleError = {\n      status: error.status,\n      message: error.message,\n      data: error.response?.data,\n    };\n    return simpleError;\n  };\n\n  /**\n   * Executes a PUT request to the specified URL with the given data.\n   *\n   * @template D The type of the request payload.\n   * @template R The expected type of the response data.\n   * @param {string} url - The URL to send the PUT request to.\n   * @param {D} [data] - The payload to be sent in the request body.\n   * @param {Record<string, string>} [headers] - Optional additional headers to include in the request.\n   * @returns {Promise<R>} A promise resolving to the response data of type R.\n   *\n   * @throws {Error} Throws an error if the request fails. The error will be formatted by `handleError`.\n   */\n  protected async put<D, R>(\n    url: string,\n    data?: D,\n    headers?: Record<string, string>,\n  ): Promise<R> {\n    const config: AxiosRequestConfig = {\n      headers: this.mergeHeaders(headers),\n    };\n    try {\n      const response = await this.api.put<R>(url, data, config);\n      return response.data;\n    } catch (error) {\n      throw this.handleError(error as AxiosError);\n    }\n  }\n  /**\n   * Executes a DELETE request to the specified URL with optional headers.\n   *\n   * @template R The expected type of the response data.\n   * @param {string} url - The URL to send the DELETE request to.\n   * @param {Record<string, string>} [headers] - Optional additional headers to include in the request.\n   * @returns {Promise<R>} A promise resolving to the response data of type R, if provided by the server.\n   *\n   * @throws {Error} Throws an error if the request fails. The error will be formatted by `handleError`.\n   */\n  protected async delete<R>(\n    url: string,\n    headers?: Record<string, string>,\n  ): Promise<R> {\n    const config: AxiosRequestConfig = {\n      headers: this.mergeHeaders(headers),\n    };\n    try {\n      const response = await this.api.delete<R>(url, config);\n      return response.data;\n    } catch (error) {\n      throw this.handleError(error as AxiosError);\n    }\n  }\n}\n"],"names":[],"mappings":";;;AAOM;AAPN;;AAEO,MAAM;IACD,IAAmB;IAE7B,aAAc;QACZ,MAAM,UACJ,6DAA4C;QAC9C,IAAI,CAAC,GAAG,GAAG,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;YACtB;YACA,iBAAiB;QACnB;IACF;IAEA;;;;GAIC,GACD,AAAQ,aACN,OAAgC,EACR;QACxB,MAAM,iBAAyC;YAC7C,gBAAgB;QAClB;QAEA,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,OAAO;YACT,eAAe,aAAa,GAAG,CAAC,MAAM,EAAE,OAAO;QACjD;QACA,wDAAwD;QACxD,qEAAqE;QACrE,2EAA2E;QAC3E,OAAO;YAAE,GAAG,cAAc;YAAE,GAAG,OAAO;QAAC;IACzC;IAEA;;;;;GAKC,GACD,MAAgB,KACd,GAAW,EACX,IAAQ,EACR,OAAgC,EACpB;QACZ,MAAM,SAA6B;YACjC,SAAS,IAAI,CAAC,YAAY,CAAC;QAC7B;QACA,MAAM,WAAW,MAAM,IAAI,CAAC,GAAG,CAAC,IAAI,CAAI,KAAK,MAAM;QACnD,OAAO,SAAS,IAAI;IACtB;IAEA;;;;GAIC,GACD,MAAgB,IACd,GAAW,EACX,OAAgC,EACpB;QACZ,MAAM,SAA6B;YACjC,SAAS,IAAI,CAAC,YAAY,CAAC;QAC7B;QACA,MAAM,WAAW,MAAM,IAAI,CAAC,GAAG,CAAC,GAAG,CAAI,KAAK;QAC5C,OAAO,SAAS,IAAI;IACtB;IAEU,cAAc,CAAC;QACvB,MAAM,cAAc;YAClB,QAAQ,MAAM,MAAM;YACpB,SAAS,MAAM,OAAO;YACtB,MAAM,MAAM,QAAQ,EAAE;QACxB;QACA,OAAO;IACT,EAAE;IAEF;;;;;;;;;;;GAWC,GACD,MAAgB,IACd,GAAW,EACX,IAAQ,EACR,OAAgC,EACpB;QACZ,MAAM,SAA6B;YACjC,SAAS,IAAI,CAAC,YAAY,CAAC;QAC7B;QACA,IAAI;YACF,MAAM,WAAW,MAAM,IAAI,CAAC,GAAG,CAAC,GAAG,CAAI,KAAK,MAAM;YAClD,OAAO,SAAS,IAAI;QACtB,EAAE,OAAO,OAAO;YACd,MAAM,IAAI,CAAC,WAAW,CAAC;QACzB;IACF;IACA;;;;;;;;;GASC,GACD,MAAgB,OACd,GAAW,EACX,OAAgC,EACpB;QACZ,MAAM,SAA6B;YACjC,SAAS,IAAI,CAAC,YAAY,CAAC;QAC7B;QACA,IAAI;YACF,MAAM,WAAW,MAAM,IAAI,CAAC,GAAG,CAAC,MAAM,CAAI,KAAK;YAC/C,OAAO,SAAS,IAAI;QACtB,EAAE,OAAO,OAAO;YACd,MAAM,IAAI,CAAC,WAAW,CAAC;QACzB;IACF;AACF"}},
    {"offset": {"line": 119, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 125, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrowlise/kashikuroni_tech/base_project_tamplate/frontend/src/services/backend-api/authApi.ts"],"sourcesContent":["import axios from \"axios\";\nimport { BaseApi } from \"./baseApi\";\nimport * as types from \"./authApi.types\";\n\nclass AuthApi extends BaseApi {\n  /**\n   * Функция авторизации пользователя в системе\n   */\n  public async register(data: types.SignupData): Promise<types.ApiResponse> {\n    try {\n      const response = await this.post(`api/auth/v1/register/`, data);\n      return response;\n    } catch (error) {\n      if (axios.isAxiosError(error)) {\n        if (error.response && error.response.data) {\n          const errorMessages = error.response.data;\n          if (errorMessages.email || errorMessages.username) {\n            throw new Error(\n              \"Указанные данные уже используются. Пожалуйста, проверьте введенные данные.\",\n            );\n          } else {\n            throw new Error(\n              \"Произошла ошибка. Пожалуйста, попробуйте ещё раз.\",\n            );\n          }\n        }\n      }\n    }\n  }\n\n  /**\n   * Функция регистрации пользователя в системе.\n   */\n  public async login(data: types.SigninData): Promise<any> {\n    const response = await this.post(\"/api/auth/v1/login/\", data);\n    return response;\n  }\n\n  /**\n   * Функция выхода из системы с удалением токена с базы\n   */\n  public async logout(): Promise<any> {\n    const response = await this.post(\"/api/auth/v1/logout/\");\n    return response;\n  }\n\n  public async deleteAccount(): Promise<any> {\n    const response = await this.delete(\"/api/auth/v1/users/delete/\");\n    return response;\n  }\n\n  /**\n   * Fetches user data from the backend API.\n   *\n   * @returns {Promise<any>} The user data returned from the backend.\n   *\n   * @throws Will throw an error if the API request fails.\n   *\n   * Note: This function does not handle errors internally.\n   * Ensure that you wrap the call to this function in a `try-catch` block\n   * or use a `.catch()` method to handle potential errors.\n   *\n   * Example usage:\n   * ```ts\n   * try {\n   *   const user = await userService.getUser();\n   *   console.log(user);\n   * } catch (error) {\n   *   console.error(\"Failed to fetch user data:\", error);\n   * }\n   * ```\n   */\n  public async getUser(): Promise<any> {\n    const response = await this.get(\"/api/auth/v1/users/\");\n    return response;\n  }\n\n  /**\n   * Refreshes the access token using the refresh token stored in cookies.\n   *\n   * This function sends a POST request to the backend API endpoint\n   * to refresh the tokens. It expects the backend to manage tokens via HttpOnly cookies.\n   *\n   * @returns {Promise<void>} Resolves when the token is successfully refreshed.\n   *\n   * @throws Will throw an error if the refresh token is missing or the refresh process fails.\n   *\n   * Note: This function assumes that HttpOnly cookies are automatically handled\n   * by the browser or client during the request.\n   *\n   * Example usage:\n   * ```ts\n   * try {\n   *   await authService.refreshToken();\n   *   console.log(\"Token refreshed successfully.\");\n   * } catch (error) {\n   *   console.error(\"Failed to refresh token:\", error);\n   * }\n   * ```\n   */\n  public async refreshToken(): Promise<types.RefreshTokenProps> {\n    const response = await this.post<{}, types.RefreshTokenProps>(\n      \"/api/auth/v1/refresh/\",\n    );\n    if (!response || typeof response.success !== \"boolean\") {\n      throw new Error(\"Invalid response format.\");\n    }\n    if (!response.success) {\n      throw new Error(response.message || \"Failed to refresh token.\");\n    }\n    return response;\n  }\n\n  public async updateProfile(data: FormData): Promise<any> {\n    const response = await this.put(\"/api/auth/v1/users/\", data, {\n      \"Content-Type\": \"multipart/form-data\",\n    });\n    return response;\n  }\n\n  /**\n   * Смена пароля.\n   */\n  public async changePassword(data: types.ChangePassword): Promise<any> {\n    const response = await this.post(\"/api/users/set_password/\", data);\n    return response;\n  }\n}\n\nexport default new AuthApi();\n"],"names":[],"mappings":";;;AACA;AADA;;;AAIA,MAAM,gBAAgB,+IAAA,CAAA,UAAO;IAC3B;;GAEC,GACD,MAAa,SAAS,IAAsB,EAA8B;QACxE,IAAI;YACF,MAAM,WAAW,MAAM,IAAI,CAAC,IAAI,CAAC,CAAC,qBAAqB,CAAC,EAAE;YAC1D,OAAO;QACT,EAAE,OAAO,OAAO;YACd,IAAI,wIAAA,CAAA,UAAK,CAAC,YAAY,CAAC,QAAQ;gBAC7B,IAAI,MAAM,QAAQ,IAAI,MAAM,QAAQ,CAAC,IAAI,EAAE;oBACzC,MAAM,gBAAgB,MAAM,QAAQ,CAAC,IAAI;oBACzC,IAAI,cAAc,KAAK,IAAI,cAAc,QAAQ,EAAE;wBACjD,MAAM,IAAI,MACR;oBAEJ,OAAO;wBACL,MAAM,IAAI,MACR;oBAEJ;gBACF;YACF;QACF;IACF;IAEA;;GAEC,GACD,MAAa,MAAM,IAAsB,EAAgB;QACvD,MAAM,WAAW,MAAM,IAAI,CAAC,IAAI,CAAC,uBAAuB;QACxD,OAAO;IACT;IAEA;;GAEC,GACD,MAAa,SAAuB;QAClC,MAAM,WAAW,MAAM,IAAI,CAAC,IAAI,CAAC;QACjC,OAAO;IACT;IAEA,MAAa,gBAA8B;QACzC,MAAM,WAAW,MAAM,IAAI,CAAC,MAAM,CAAC;QACnC,OAAO;IACT;IAEA;;;;;;;;;;;;;;;;;;;;GAoBC,GACD,MAAa,UAAwB;QACnC,MAAM,WAAW,MAAM,IAAI,CAAC,GAAG,CAAC;QAChC,OAAO;IACT;IAEA;;;;;;;;;;;;;;;;;;;;;;GAsBC,GACD,MAAa,eAAiD;QAC5D,MAAM,WAAW,MAAM,IAAI,CAAC,IAAI,CAC9B;QAEF,IAAI,CAAC,YAAY,OAAO,SAAS,OAAO,KAAK,WAAW;YACtD,MAAM,IAAI,MAAM;QAClB;QACA,IAAI,CAAC,SAAS,OAAO,EAAE;YACrB,MAAM,IAAI,MAAM,SAAS,OAAO,IAAI;QACtC;QACA,OAAO;IACT;IAEA,MAAa,cAAc,IAAc,EAAgB;QACvD,MAAM,WAAW,MAAM,IAAI,CAAC,GAAG,CAAC,uBAAuB,MAAM;YAC3D,gBAAgB;QAClB;QACA,OAAO;IACT;IAEA;;GAEC,GACD,MAAa,eAAe,IAA0B,EAAgB;QACpE,MAAM,WAAW,MAAM,IAAI,CAAC,IAAI,CAAC,4BAA4B;QAC7D,OAAO;IACT;AACF;uCAEe,IAAI"}},
    {"offset": {"line": 241, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 247, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrowlise/kashikuroni_tech/base_project_tamplate/frontend/src/services/constants/urls.tsx"],"sourcesContent":["export const loginUrl = \"/auth/login\";\nexport const acceptUrls = [\"/auth/login\", \"/auth/register\"];\n"],"names":[],"mappings":";;;;AAAO,MAAM,WAAW;AACjB,MAAM,aAAa;IAAC;IAAe;CAAiB"}},
    {"offset": {"line": 259, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 265, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrowlise/kashikuroni_tech/base_project_tamplate/frontend/src/context/AuthProvider.tsx"],"sourcesContent":["\"use client\";\nimport React, { createContext, useContext, useEffect, useState } from \"react\";\nimport { useRouter, usePathname } from \"next/navigation\";\nimport api from \"@/services/backend-api/authApi\";\nimport { User } from \"./AuthProvider.types\"\nimport { acceptUrls, loginUrl } from \"@/services/constants/urls\";\n\ntype AuthContextType = {\n  isAuthenticated: boolean;\n  loading: boolean;\n  user: User | null;\n};\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport const AuthProvider = ({ children }: { children: React.ReactNode }) => {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [user, setUser] = useState<User | null>(null)\n  const router = useRouter();\n  const pathname = usePathname();\n\n  useEffect(() => {\n    (async () => {\n      setLoading(true)\n      if (acceptUrls.includes(pathname)) {\n        setLoading(false);\n        return;\n      }\n      \n      try {\n        const userData = await api.getUser();\n        setUser(userData)\n        setIsAuthenticated(true);\n      } catch (error) {\n        try {\n          await api.refreshToken()\n\n          const userData = await api.getUser();\n          setUser(userData)\n          setIsAuthenticated(true);\n        } catch {\n          router.push(loginUrl);\n        }\n      } finally {\n        setLoading(false);\n      }\n    })();\n  }, [pathname]);\n\n  return (\n    <AuthContext.Provider value={{ isAuthenticated, loading, user }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error(\"useAuth must be used within an AuthProvider\");\n  }\n  return context;\n};\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAEA;;;AALA;;;;;AAaA,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD,EAA+B;AAExD,MAAM,eAAe,CAAC,EAAE,QAAQ,EAAiC;;IACtE,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe;IAC9C,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,WAAW,CAAA,GAAA,qIAAA,CAAA,cAAW,AAAD;IAE3B,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR;0CAAC;oBACC,WAAW;oBACX,IAAI,wIAAA,CAAA,aAAU,CAAC,QAAQ,CAAC,WAAW;wBACjC,WAAW;wBACX;oBACF;oBAEA,IAAI;wBACF,MAAM,WAAW,MAAM,+IAAA,CAAA,UAAG,CAAC,OAAO;wBAClC,QAAQ;wBACR,mBAAmB;oBACrB,EAAE,OAAO,OAAO;wBACd,IAAI;4BACF,MAAM,+IAAA,CAAA,UAAG,CAAC,YAAY;4BAEtB,MAAM,WAAW,MAAM,+IAAA,CAAA,UAAG,CAAC,OAAO;4BAClC,QAAQ;4BACR,mBAAmB;wBACrB,EAAE,OAAM;4BACN,OAAO,IAAI,CAAC,wIAAA,CAAA,WAAQ;wBACtB;oBACF,SAAU;wBACR,WAAW;oBACb;gBACF;aAAC;QACH;iCAAG;QAAC;KAAS;IAEb,qBACE,6LAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAiB;YAAS;QAAK;kBAC3D;;;;;;AAGP;GAxCa;;QAII,qIAAA,CAAA,YAAS;QACP,qIAAA,CAAA,cAAW;;;KALjB;AA0CN,MAAM,UAAU;;IACrB,MAAM,UAAU,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANa"}},
    {"offset": {"line": 354, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 360, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrowlise/kashikuroni_tech/base_project_tamplate/frontend/src/components/ui/Uploaders/ImageUploader.tsx"],"sourcesContent":["\"use client\";\nimport React, { useState } from \"react\";\n\ninterface ImageUploaderProps {\n  onUpload: (file: File) => void;\n  imageUrl?: string;\n  width: string;\n  height: string;\n}\n\nconst ImageUploader: React.FC<ImageUploaderProps> = ({\n  onUpload,\n  imageUrl,\n  width,\n  height\n}) => {\n  const [preview, setPreview] = useState<string | null>(imageUrl || null);\n\n  const handleFileChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (event.target.files && event.target.files[0]) {\n      const file = event.target.files[0];\n      setPreview(URL.createObjectURL(file));\n      onUpload(file);\n    }\n  };\n\n  return (\n    <div className=\"flex items-center justify-center\">\n      <label\n        htmlFor=\"image-upload\"\n        className={`relative ${width} ${height} rounded-2xl overflow-hidden cursor-pointer border-2 border-dashed border-gray-300 bg-gray-100 hover:bg-gray-200 transition duration-300`}\n      >\n        {preview ? (\n          <img\n            src={preview}\n            alt=\"Uploaded Preview\"\n            className=\"w-full h-full object-cover\"\n          />\n        ) : (\n          <div className=\"flex items-center justify-center w-full h-full text-gray-500 text-sm font-semibold\">\n            Загрузить изображение\n          </div>\n        )}\n        <input\n          id=\"image-upload\"\n          type=\"file\"\n          accept=\"image/*\"\n          className=\"hidden\"\n          onChange={handleFileChange}\n        />\n      </label>\n    </div>\n  );\n};\n\nexport default ImageUploader\n"],"names":[],"mappings":";;;;AACA;;;AADA;;AAUA,MAAM,gBAA8C,CAAC,EACnD,QAAQ,EACR,QAAQ,EACR,KAAK,EACL,MAAM,EACP;;IACC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB,YAAY;IAElE,MAAM,mBAAmB,CAAC;QACxB,IAAI,MAAM,MAAM,CAAC,KAAK,IAAI,MAAM,MAAM,CAAC,KAAK,CAAC,EAAE,EAAE;YAC/C,MAAM,OAAO,MAAM,MAAM,CAAC,KAAK,CAAC,EAAE;YAClC,WAAW,IAAI,eAAe,CAAC;YAC/B,SAAS;QACX;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YACC,SAAQ;YACR,WAAW,CAAC,SAAS,EAAE,MAAM,CAAC,EAAE,OAAO,wIAAwI,CAAC;;gBAE/K,wBACC,6LAAC;oBACC,KAAK;oBACL,KAAI;oBACJ,WAAU;;;;;yCAGZ,6LAAC;oBAAI,WAAU;8BAAqF;;;;;;8BAItG,6LAAC;oBACC,IAAG;oBACH,MAAK;oBACL,QAAO;oBACP,WAAU;oBACV,UAAU;;;;;;;;;;;;;;;;;AAKpB;GA3CM;KAAA;uCA6CS"}},
    {"offset": {"line": 432, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 438, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrowlise/kashikuroni_tech/base_project_tamplate/frontend/src/components/ui/Input/Input.tsx"],"sourcesContent":["\"use client\";\nimport classNames from \"classnames\";\nimport React, { InputHTMLAttributes, useState } from \"react\";\n\ninterface BaseInputProps extends InputHTMLAttributes<HTMLInputElement> {\n  label: string;\n}\n\nexport const BaseInput: React.FC<BaseInputProps> = ({\n  id,\n  type = \"text\",\n  name,\n  label,\n  value,\n  onChange,\n  placeholder,\n  required = false,\n  ...props\n}) => {\n  const [error, setError] = useState<string | null>(null);\n  const [touched, setTouched] = useState(false);\n\n  const labelStyle = classNames(\"text-sm font-light text-gray-600\");\n  const inputStyle = classNames(\n    \"w-full text-sm py-1 px-2 bg-transparent\",\n    \"border-2 rounded-md\",\n    error ? \"border-red-500\" : \"border-gray-300\",\n    \"placeholder-gray-300\",\n    \"hover:ring-blue-400 hover:ring hover:border-transparent\",\n    \"focus:ring-blue-400 focus:ring focus:border-transparent\",\n    \"transition-all duration-300 ease-in-out\",\n    \"appearance-none outline-none\",\n  );\n  const errorStyle = classNames(\n    \"absolute text-red-500 text-xs transition-all duration-300 ease-in-out bg-white px-2 py-1 rounded shadow-md\",\n    \"mt-1 left-0 top-full z-40\",\n  );\n\n  // Проверка валидности поля\n  const validateInput = (input: HTMLInputElement) => {\n    if (!input.checkValidity()) {\n      setError(input.validationMessage); // Получение сообщения браузера\n    } else {\n      setError(null);\n    }\n  };\n\n  const handleBlur = (e: React.FocusEvent<HTMLInputElement>) => {\n    setTouched(true);\n    validateInput(e.target); // Валидация при потере фокуса\n  };\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (onChange) onChange(e);\n    if (touched) validateInput(e.target); // Валидация при вводе, если поле уже было затронуто\n  };\n\n  return (\n    <div className=\"flex flex-col gap-2 w-full h-full justify-center items-start\">\n      <label className={labelStyle} htmlFor={id}>\n        {label}\n      </label>\n      <div className=\"relative w-full\">\n        <input\n          className={inputStyle}\n          id={id}\n          type={type}\n          name={name}\n          value={value}\n          onChange={handleChange}\n          onBlur={handleBlur}\n          placeholder={placeholder}\n          required={required}\n          {...props}\n        />\n        {touched && error && (\n          <span\n            className={classNames(\n              errorStyle,\n              error ? \"opacity-100 scale-100\" : \"opacity-0 scale-95\",\n              \"transition-all duration-300\",\n            )}\n          >\n            {error || \"\"}\n          </span>\n        )}\n      </div>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;AACA;AACA;;;AAFA;;;AAQO,MAAM,YAAsC,CAAC,EAClD,EAAE,EACF,OAAO,MAAM,EACb,IAAI,EACJ,KAAK,EACL,KAAK,EACL,QAAQ,EACR,WAAW,EACX,WAAW,KAAK,EAChB,GAAG,OACJ;;IACC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,MAAM,aAAa,CAAA,GAAA,sIAAA,CAAA,UAAU,AAAD,EAAE;IAC9B,MAAM,aAAa,CAAA,GAAA,sIAAA,CAAA,UAAU,AAAD,EAC1B,2CACA,uBACA,QAAQ,mBAAmB,mBAC3B,wBACA,2DACA,2DACA,2CACA;IAEF,MAAM,aAAa,CAAA,GAAA,sIAAA,CAAA,UAAU,AAAD,EAC1B,8GACA;IAGF,2BAA2B;IAC3B,MAAM,gBAAgB,CAAC;QACrB,IAAI,CAAC,MAAM,aAAa,IAAI;YAC1B,SAAS,MAAM,iBAAiB,GAAG,+BAA+B;QACpE,OAAO;YACL,SAAS;QACX;IACF;IAEA,MAAM,aAAa,CAAC;QAClB,WAAW;QACX,cAAc,EAAE,MAAM,GAAG,8BAA8B;IACzD;IAEA,MAAM,eAAe,CAAC;QACpB,IAAI,UAAU,SAAS;QACvB,IAAI,SAAS,cAAc,EAAE,MAAM,GAAG,oDAAoD;IAC5F;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAM,WAAW;gBAAY,SAAS;0BACpC;;;;;;0BAEH,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBACC,WAAW;wBACX,IAAI;wBACJ,MAAM;wBACN,MAAM;wBACN,OAAO;wBACP,UAAU;wBACV,QAAQ;wBACR,aAAa;wBACb,UAAU;wBACT,GAAG,KAAK;;;;;;oBAEV,WAAW,uBACV,6LAAC;wBACC,WAAW,CAAA,GAAA,sIAAA,CAAA,UAAU,AAAD,EAClB,YACA,QAAQ,0BAA0B,sBAClC;kCAGD,SAAS;;;;;;;;;;;;;;;;;;AAMtB;GAjFa;KAAA"}},
    {"offset": {"line": 531, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 537, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrowlise/kashikuroni_tech/base_project_tamplate/frontend/src/components/Forms/Profile/ProfileForm.tsx"],"sourcesContent":["\"use client\";\nimport React, { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { useAuth } from \"@/context/AuthProvider\";\nimport api from \"@/services/backend-api/authApi\";\nimport ImageUploader from \"@/components/ui/Uploaders/ImageUploader\";\nimport { BaseInput } from \"@/components/ui/Input/Input\";\n\nconst ProfileForm: React.FC = () => {\n  const { user } = useAuth();\n  const router = useRouter();\n  const [formData, setFormData] = useState({\n    username: \"\",\n    firstName: \"\",\n    lastName: \"\",\n  });\n  const [avatar, setAvatar] = useState<File | null>(null);\n\n  useEffect(() => {\n    if (user) {\n      setFormData({\n        username: user.username || \"\",\n        firstName: user.first_name || \"\",\n        lastName: user.last_name || \"\",\n      });\n    }\n  }, [user]);\n\n  const handleFileUpload = (file: File) => {\n    setAvatar(file);\n  };\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    const data = new FormData();\n    data.append(\"username\", formData.username);\n    data.append(\"first_name\", formData.firstName);\n    data.append(\"last_name\", formData.lastName);\n    if (avatar) {\n      data.append(\"avatar\", avatar);\n    }\n\n    try {\n      await api.updateProfile(data);\n      router.push(\"/profile/\"); // Перенаправление на страницу профиля\n    } catch (error) {\n      console.error(\"Failed to update profile:\", error);\n    }\n  };\n\n  return (\n    <div className=\"flex h-full justify-center items-center gap-4 p-4\">\n      <ImageUploader\n        width=\"w-52\"\n        height=\"h-52\"\n        imageUrl={user?.avatar || \"/default-avatar.png\"}\n        onUpload={handleFileUpload}\n      />\n      <div className=\"flex flex-col h-full justify-center w-full\">\n        <form onSubmit={handleSubmit} className=\"flex flex-col gap-2\">\n          <BaseInput\n            label=\"Username\"\n            id=\"username\"\n            name=\"username\"\n            value={formData.username}\n            onChange={handleChange}\n          />\n          <div className=\"flex gap-2\">\n            <BaseInput\n              label=\"First name\"\n              id=\"firstName\"\n              name=\"firstName\"\n              value={formData.firstName}\n              onChange={handleChange}\n            />\n            <BaseInput\n              label=\"Last name\"\n              id=\"lastName\"\n              name=\"lastName\"\n              value={formData.lastName}\n              onChange={handleChange}\n            />\n          </div>\n          <p className=\"text-gray-600 text-sm\">{user?.email}</p>\n          <button\n            type=\"submit\"\n            className=\"bg-green-500 text-white font-bold px-5 py-2 rounded-lg hover:bg-green-600\"\n          >\n            Save\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default ProfileForm;\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AACA;AACA;;;AANA;;;;;;;AAQA,MAAM,cAAwB;;IAC5B,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,kIAAA,CAAA,UAAO,AAAD;IACvB,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;QACvC,UAAU;QACV,WAAW;QACX,UAAU;IACZ;IACA,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe;IAElD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;iCAAE;YACR,IAAI,MAAM;gBACR,YAAY;oBACV,UAAU,KAAK,QAAQ,IAAI;oBAC3B,WAAW,KAAK,UAAU,IAAI;oBAC9B,UAAU,KAAK,SAAS,IAAI;gBAC9B;YACF;QACF;gCAAG;QAAC;KAAK;IAET,MAAM,mBAAmB,CAAC;QACxB,UAAU;IACZ;IAEA,MAAM,eAAe,CAAC;QACpB,YAAY;YACV,GAAG,QAAQ;YACX,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,MAAM,CAAC,KAAK;QACjC;IACF;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,MAAM,OAAO,IAAI;QACjB,KAAK,MAAM,CAAC,YAAY,SAAS,QAAQ;QACzC,KAAK,MAAM,CAAC,cAAc,SAAS,SAAS;QAC5C,KAAK,MAAM,CAAC,aAAa,SAAS,QAAQ;QAC1C,IAAI,QAAQ;YACV,KAAK,MAAM,CAAC,UAAU;QACxB;QAEA,IAAI;YACF,MAAM,+IAAA,CAAA,UAAG,CAAC,aAAa,CAAC;YACxB,OAAO,IAAI,CAAC,cAAc,sCAAsC;QAClE,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,6BAA6B;QAC7C;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,yJAAA,CAAA,UAAa;gBACZ,OAAM;gBACN,QAAO;gBACP,UAAU,MAAM,UAAU;gBAC1B,UAAU;;;;;;0BAEZ,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAK,UAAU;oBAAc,WAAU;;sCACtC,6LAAC,6IAAA,CAAA,YAAS;4BACR,OAAM;4BACN,IAAG;4BACH,MAAK;4BACL,OAAO,SAAS,QAAQ;4BACxB,UAAU;;;;;;sCAEZ,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,6IAAA,CAAA,YAAS;oCACR,OAAM;oCACN,IAAG;oCACH,MAAK;oCACL,OAAO,SAAS,SAAS;oCACzB,UAAU;;;;;;8CAEZ,6LAAC,6IAAA,CAAA,YAAS;oCACR,OAAM;oCACN,IAAG;oCACH,MAAK;oCACL,OAAO,SAAS,QAAQ;oCACxB,UAAU;;;;;;;;;;;;sCAGd,6LAAC;4BAAE,WAAU;sCAAyB,MAAM;;;;;;sCAC5C,6LAAC;4BACC,MAAK;4BACL,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;AAOX;GA7FM;;QACa,kIAAA,CAAA,UAAO;QACT,qIAAA,CAAA,YAAS;;;KAFpB;uCA+FS"}},
    {"offset": {"line": 713, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}