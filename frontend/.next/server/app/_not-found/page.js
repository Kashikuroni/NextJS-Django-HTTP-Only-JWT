(()=>{var e={};e.id=492,e.ids=[492],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},2412:e=>{"use strict";e.exports=require("assert")},4735:e=>{"use strict";e.exports=require("events")},9021:e=>{"use strict";e.exports=require("fs")},1630:e=>{"use strict";e.exports=require("http")},5591:e=>{"use strict";e.exports=require("https")},1820:e=>{"use strict";e.exports=require("os")},3873:e=>{"use strict";e.exports=require("path")},7910:e=>{"use strict";e.exports=require("stream")},3997:e=>{"use strict";e.exports=require("tty")},9551:e=>{"use strict";e.exports=require("url")},8354:e=>{"use strict";e.exports=require("util")},4075:e=>{"use strict";e.exports=require("zlib")},1285:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>h,pages:()=>l,routeModule:()=>p,tree:()=>d});var s=r(260),o=r(8203),i=r(5155),n=r.n(i),a=r(7292),u={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(u[e]=()=>a[e]);r.d(t,u);let d=["",{children:["/_not-found",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.t.bind(r,9937,23)),"next/dist/client/components/not-found-error"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,1354)),"/Users/mrowlise/kashikuroni_tech/base_project_tamplate/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,1485,23)),"next/dist/client/components/unauthorized-error"]}],l=[],h={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/_not-found/page",pathname:"/_not-found",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8627:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3219,23)),Promise.resolve().then(r.t.bind(r,4863,23)),Promise.resolve().then(r.t.bind(r,5155,23)),Promise.resolve().then(r.t.bind(r,802,23)),Promise.resolve().then(r.t.bind(r,9350,23)),Promise.resolve().then(r.t.bind(r,8530,23)),Promise.resolve().then(r.t.bind(r,8921,23))},2699:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6959,23)),Promise.resolve().then(r.t.bind(r,3875,23)),Promise.resolve().then(r.t.bind(r,8903,23)),Promise.resolve().then(r.t.bind(r,7174,23)),Promise.resolve().then(r.t.bind(r,4178,23)),Promise.resolve().then(r.t.bind(r,7190,23)),Promise.resolve().then(r.t.bind(r,1365,23))},6535:(e,t,r)=>{Promise.resolve().then(r.bind(r,9193))},8383:(e,t,r)=>{Promise.resolve().then(r.bind(r,9309))},9309:(e,t,r)=>{"use strict";r.d(t,{A:()=>l,AuthProvider:()=>d});var s=r(5512),o=r(8009),i=r(9334),n=r(9068),a=r(7545);let u=(0,o.createContext)(void 0),d=({children:e})=>{let[t,r]=(0,o.useState)(!1),[d,l]=(0,o.useState)(!0),[h,p]=(0,o.useState)(null),c=(0,i.useRouter)(),m=(0,i.usePathname)();return(0,o.useEffect)(()=>{(async()=>{if(l(!0),a.H.includes(m)){l(!1);return}try{let e=await n.A.getUser();p(e),r(!0)}catch(e){try{await n.A.refreshToken();let e=await n.A.getUser();p(e),r(!0)}catch{c.push(a.$)}}finally{l(!1)}})()},[m]),(0,s.jsx)(u.Provider,{value:{isAuthenticated:t,loading:d,user:h},children:e})},l=()=>{let e=(0,o.useContext)(u);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},9068:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(5668);class o{constructor(){this.handleError=e=>({status:e.status,message:e.message,data:e.response?.data});let e=process.env.NEXT_PUBLIC_DEVELOPMENT_HOST||"http://localhost:8000";this.api=s.A.create({baseURL:e,withCredentials:!0})}mergeHeaders(e){let t={"Content-Type":"application/json"},r=localStorage.getItem("userToken");return r&&(t.Authorization=`Token ${r}`),{...t,...e}}async post(e,t,r){let s={headers:this.mergeHeaders(r)};return(await this.api.post(e,t,s)).data}async get(e,t){let r={headers:this.mergeHeaders(t)};return(await this.api.get(e,r)).data}async put(e,t,r){let s={headers:this.mergeHeaders(r)};try{return(await this.api.put(e,t,s)).data}catch(e){throw this.handleError(e)}}async delete(e,t){let r={headers:this.mergeHeaders(t)};try{return(await this.api.delete(e,r)).data}catch(e){throw this.handleError(e)}}}class i extends o{async register(e){try{return await this.post("api/auth/v1/register/",e)}catch(e){if(s.A.isAxiosError(e)&&e.response&&e.response.data){let t=e.response.data;if(t.email||t.username)throw Error("Указанные данные уже используются. Пожалуйста, проверьте введенные данные.");throw Error("Произошла ошибка. Пожалуйста, попробуйте ещё раз.")}}}async login(e){return await this.post("/api/auth/v1/login/",e)}async logout(){return await this.post("/api/auth/v1/logout/")}async deleteAccount(){return await this.delete("/api/auth/v1/users/delete/")}async getUser(){return await this.get("/api/auth/v1/users/")}async refreshToken(){let e=await this.post("/api/auth/v1/refresh/");if(!e||"boolean"!=typeof e.success)throw Error("Invalid response format.");if(!e.success)throw Error(e.message||"Failed to refresh token.");return e}async updateProfile(e){return await this.put("/api/auth/v1/users/",e,{"Content-Type":"multipart/form-data"})}async changePassword(e){return await this.post("/api/users/set_password/",e)}}let n=new i},7545:(e,t,r)=>{"use strict";r.d(t,{$:()=>s,H:()=>o});let s="/auth/login",o=["/auth/login","/auth/register"]},1354:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l,metadata:()=>d});var s=r(2740),o=r(2202),i=r.n(o),n=r(4988),a=r.n(n);r(1135);var u=r(9193);let d={title:"Create Next App",description:"Generated by create next app"};function l({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{className:`${i().variable} ${a().variable} antialiased`,children:(0,s.jsx)(u.AuthProvider,{children:e})})})}},9193:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>o});var s=r(6760);let o=(0,s.registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/mrowlise/kashikuroni_tech/base_project_tamplate/frontend/src/context/AuthProvider.tsx","AuthProvider");(0,s.registerClientReference)(function(){throw Error("Attempted to call useAuth() from the server but useAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/mrowlise/kashikuroni_tech/base_project_tamplate/frontend/src/context/AuthProvider.tsx","useAuth")},1135:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,651],()=>r(1285));module.exports=s})();