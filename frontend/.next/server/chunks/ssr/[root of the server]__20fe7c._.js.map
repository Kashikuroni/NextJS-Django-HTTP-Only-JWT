{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrowlise/kashikuroni_tech/base_project_tamplate/frontend/src/services/backend-api/baseApi.ts"],"sourcesContent":["import axios, { AxiosInstance, AxiosRequestConfig } from \"axios\";\n\nexport class BaseApi {\n  protected api: AxiosInstance;\n\n  constructor() {\n    const baseURL = process.env.NEXT_PUBLIC_DEVELOPMENT_HOST || \"http://localhost:8000\";\n    this.api = axios.create({\n      baseURL,\n    });\n  }\n\n  /**\n   * Объединение заголовков.\n   * @param headers Дополнительные заголовки.\n   * @returns Итоговые заголовки.\n   */\n  private mergeHeaders(headers?: Record<string, string>): Record<string, string> {\n    const defaultHeaders: Record<string, string> = {\n      \"Content-Type\": \"application/json\",\n    };\n\n    const token = localStorage.getItem(\"userToken\");\n    if (token) {\n      defaultHeaders.Authorization = `Token ${token}`;\n    }\n    // Сначала в конечный headers попадет все что находиться\n    // в defaultHeaders, потом все что в headers, причем одинаковые ключи\n    // будут перезаписаны значением из headers. Такие как Content-Type например\n    return { ...defaultHeaders, ...headers };\n  }\n\n  /**\n   * Метод для выполнения POST-запроса.\n   * @param url URL для запроса.\n   * @param data Тело запроса.\n   * @param headers Дополнительные заголовки.\n   */\n  protected async post<D, R>(\n    url: string,\n    data: D,\n    headers?: Record<string, string>\n  ): Promise<R> {\n    const config: AxiosRequestConfig = {\n      headers: this.mergeHeaders(headers),\n    };\n    const response = await this.api.post<R>(url, data, config);\n    return response.data;\n  }\n\n  /**\n   * Метод для выполнения GET-запроса.\n   * @param url URL для запроса.\n   * @param headers Дополнительные заголовки.\n   */\n  protected async get<R>(\n    url: string,\n    headers?: Record<string, string>\n  ): Promise<R> {\n    const config: AxiosRequestConfig = {\n      headers: this.mergeHeaders(headers),\n    };\n    const response = await this.api.get<R>(url, config);\n    return response.data;\n  }\n  /**\n   * Обработчик ошибок данного класса\n   */\n  protected handleError(error: any): never {\n    const errorMessage =\n      error.response?.statusText || error.message || \"Произошла ошибка\";\n    throw new Error(`Ошибка: ${errorMessage}`);\n  }\n\n}\n"],"names":[],"mappings":";;;AAAA;;AAEO,MAAM;IACD,IAAmB;IAE7B,aAAc;QACZ,MAAM,UAAU,6DAA4C;QAC5D,IAAI,CAAC,GAAG,GAAG,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;YACtB;QACF;IACF;IAEA;;;;GAIC,GACD,AAAQ,aAAa,OAAgC,EAA0B;QAC7E,MAAM,iBAAyC;YAC7C,gBAAgB;QAClB;QAEA,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,OAAO;YACT,eAAe,aAAa,GAAG,CAAC,MAAM,EAAE,OAAO;QACjD;QACA,wDAAwD;QACxD,qEAAqE;QACrE,2EAA2E;QAC3E,OAAO;YAAE,GAAG,cAAc;YAAE,GAAG,OAAO;QAAC;IACzC;IAEA;;;;;GAKC,GACD,MAAgB,KACd,GAAW,EACX,IAAO,EACP,OAAgC,EACpB;QACZ,MAAM,SAA6B;YACjC,SAAS,IAAI,CAAC,YAAY,CAAC;QAC7B;QACA,MAAM,WAAW,MAAM,IAAI,CAAC,GAAG,CAAC,IAAI,CAAI,KAAK,MAAM;QACnD,OAAO,SAAS,IAAI;IACtB;IAEA;;;;GAIC,GACD,MAAgB,IACd,GAAW,EACX,OAAgC,EACpB;QACZ,MAAM,SAA6B;YACjC,SAAS,IAAI,CAAC,YAAY,CAAC;QAC7B;QACA,MAAM,WAAW,MAAM,IAAI,CAAC,GAAG,CAAC,GAAG,CAAI,KAAK;QAC5C,OAAO,SAAS,IAAI;IACtB;IACA;;GAEC,GACD,AAAU,YAAY,KAAU,EAAS;QACvC,MAAM,eACJ,MAAM,QAAQ,EAAE,cAAc,MAAM,OAAO,IAAI;QACjD,MAAM,IAAI,MAAM,CAAC,QAAQ,EAAE,cAAc;IAC3C;AAEF"}},
    {"offset": {"line": 150, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 156, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrowlise/kashikuroni_tech/base_project_tamplate/frontend/src/services/backend-api/authApi.ts"],"sourcesContent":["import { BaseApi } from \"./baseApi\";\nimport * as types from \"./authApi.types\";\n\nclass UserApi extends BaseApi {\n  /**\n   * Функция регистрации пользователя в системе.\n   */\n  public async signin(data: types.SigninData): Promise<any> {\n    try {\n      const response = await this.post(\"/api/token/\", data);\n      return response;\n    } catch (error) {\n      this.handleError(error)\n    }\n  }\n\n  /**\n   * Функция выхода из системы с удалением токена с базы\n   */\n  public async logout(): Promise<any> {\n    try {\n      const response = await this.post(\"/api/auth/token/logout/\", {});\n      return response;\n    } catch (error) {\n      this.handleError(error)\n    }\n  }\n\n  /**\n   * Функция авторизации пользователя в системе\n   */\n  public async signup(token: string, user: types.SignupData): Promise<any> {\n    try {\n      const response = await this.post(`/register/${token}/`, user);\n      return response;\n    } catch (error) {\n      this.handleError(error)\n    }\n  }\n\n  /**\n   * Проверка токена на валидность.\n   */\n  public async checkToken(): Promise<any> {\n    try {\n      const response = await this.get(\"/api/users/me/\")\n      return response;\n    } catch (error) {\n      this.handleError(error)\n    }\n  }\n\n  /**\n   * Смена пароля.\n   */\n  public async changePassword(data: types.ChangePassword): Promise<any> {\n    try {\n      const response = await this.post( \"/api/users/set_password/\", data);\n      return response;\n    } catch (error) {\n      this.handleError(error)\n    }\n  }\n}\n\nexport default new UserApi()\n"],"names":[],"mappings":";;;AAAA;;AAGA,MAAM,gBAAgB,4IAAA,CAAA,UAAO;IAC3B;;GAEC,GACD,MAAa,OAAO,IAAsB,EAAgB;QACxD,IAAI;YACF,MAAM,WAAW,MAAM,IAAI,CAAC,IAAI,CAAC,eAAe;YAChD,OAAO;QACT,EAAE,OAAO,OAAO;YACd,IAAI,CAAC,WAAW,CAAC;QACnB;IACF;IAEA;;GAEC,GACD,MAAa,SAAuB;QAClC,IAAI;YACF,MAAM,WAAW,MAAM,IAAI,CAAC,IAAI,CAAC,2BAA2B,CAAC;YAC7D,OAAO;QACT,EAAE,OAAO,OAAO;YACd,IAAI,CAAC,WAAW,CAAC;QACnB;IACF;IAEA;;GAEC,GACD,MAAa,OAAO,KAAa,EAAE,IAAsB,EAAgB;QACvE,IAAI;YACF,MAAM,WAAW,MAAM,IAAI,CAAC,IAAI,CAAC,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC,EAAE;YACxD,OAAO;QACT,EAAE,OAAO,OAAO;YACd,IAAI,CAAC,WAAW,CAAC;QACnB;IACF;IAEA;;GAEC,GACD,MAAa,aAA2B;QACtC,IAAI;YACF,MAAM,WAAW,MAAM,IAAI,CAAC,GAAG,CAAC;YAChC,OAAO;QACT,EAAE,OAAO,OAAO;YACd,IAAI,CAAC,WAAW,CAAC;QACnB;IACF;IAEA;;GAEC,GACD,MAAa,eAAe,IAA0B,EAAgB;QACpE,IAAI;YACF,MAAM,WAAW,MAAM,IAAI,CAAC,IAAI,CAAE,4BAA4B;YAC9D,OAAO;QACT,EAAE,OAAO,OAAO;YACd,IAAI,CAAC,WAAW,CAAC;QACnB;IACF;AACF;uCAEe,IAAI"}},
    {"offset": {"line": 214, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 220, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrowlise/kashikuroni_tech/base_project_tamplate/frontend/src/components/ui/Input/Input.tsx"],"sourcesContent":["import classNames from \"classnames\";\nimport React, { InputHTMLAttributes } from \"react\";\n\ninterface BaseInputProps extends InputHTMLAttributes<HTMLInputElement> {\n  label: string;\n}\n\nexport const BaseInput: React.FC<BaseInputProps> = ({\n  id,\n  type,\n  name,\n  label,\n  value,\n  onChange,\n  placeholder,\n  required = false,\n}) => {\n\n  const labelStyle = classNames(\"text-sm font-bold\")\n  const inputStyle = classNames(\n    \"w-full py-2 px-3 bg-transparent\",\n    \"border-2 border-gray-300 rounded-lg\",\n    \"placeholder-gray-300\",\n    \"hover:ring-blue-400 hover:ring hover:border-transparent\",\n    \"focus:ring-blue-400 focus:ring focus:border-transparent\",\n    \"transition-all duration-300 ease-in-out\",\n    \"appearance-none outline-none\"\n  )\n\n  return (\n    <div className=\"flex flex-col  gap-2 w-full h-full  justify-center items-start\">\n      <label className={labelStyle} htmlFor={id}>\n        {label}\n      </label>\n      <input\n        className={inputStyle}\n        id={id}\n        type={type}\n        name={name}\n        value={value}\n        onChange={onChange}\n        placeholder={placeholder}\n        required={required}\n      />\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;AAAA;;;AAOO,MAAM,YAAsC,CAAC,EAClD,EAAE,EACF,IAAI,EACJ,IAAI,EACJ,KAAK,EACL,KAAK,EACL,QAAQ,EACR,WAAW,EACX,WAAW,KAAK,EACjB;IAEC,MAAM,aAAa,CAAA,GAAA,mIAAA,CAAA,UAAU,AAAD,EAAE;IAC9B,MAAM,aAAa,CAAA,GAAA,mIAAA,CAAA,UAAU,AAAD,EAC1B,mCACA,uCACA,wBACA,2DACA,2DACA,2CACA;IAGF,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAM,WAAW;gBAAY,SAAS;0BACpC;;;;;;0BAEH,8OAAC;gBACC,WAAW;gBACX,IAAI;gBACJ,MAAM;gBACN,MAAM;gBACN,OAAO;gBACP,UAAU;gBACV,aAAa;gBACb,UAAU;;;;;;;;;;;;AAIlB"}},
    {"offset": {"line": 263, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 269, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrowlise/kashikuroni_tech/base_project_tamplate/frontend/src/components/AuthForm/AuthForm.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport api from \"@/services/backend-api/authApi\";\nimport { BaseInput } from \"../ui/Input/Input\";\n\nexport const AuthForm: React.FC = () => {\n  const router = useRouter();\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\",\n  });\n  const [error, setError] = useState<string | null>(null);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    try {\n      const data = await api.signin(formData);\n      localStorage.setItem(\"userToken\", data.auth_token);\n      router.push(\"/\");\n    } catch (error) {\n      setError(error as string);\n      console.error(error);\n    }\n  };\n  const handleRegister = () => {\n    router.push(\"/auth/sign_up\");\n  };\n\n  return (\n    <div className=\"text-mainText w-full\">\n      <form onSubmit={handleSubmit}>\n        <BaseInput\n          label=\"Email\"\n          type=\"email\"\n          id=\"email\"\n          name=\"email\"\n          value={formData.email}\n          onChange={handleChange}\n        />\n        <BaseInput\n          label=\"Пароль\"\n          id=\"password\"\n          type=\"password\"\n          name=\"password\"\n          value={formData.password}\n          onChange={handleChange}\n        />\n\n        {error && (\n          <div className=\"text-red-500 text-xs italic mb-4\">{error}</div>\n        )}\n        <div className=\"flex items-center justify-end\">\n          <button\n            className=\"mx-4 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\n            type=\"submit\"\n          >\n            Войти\n          </button>\n          <button\n            className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\n            type=\"button\"\n            onClick={handleRegister}\n          >\n            Зарегистрироваться\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AAFA;;;;;;AAIO,MAAM,WAAqB;IAChC,MAAM,SAAS,CAAA,GAAA,qLAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;QACvC,OAAO;QACP,UAAU;IACZ;IACA,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAElD,MAAM,eAAe,CAAC;QACpB,YAAY;YACV,GAAG,QAAQ;YACX,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,MAAM,CAAC,KAAK;QACjC;IACF;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,IAAI;YACF,MAAM,OAAO,MAAM,4IAAA,CAAA,UAAG,CAAC,MAAM,CAAC;YAC9B,aAAa,OAAO,CAAC,aAAa,KAAK,UAAU;YACjD,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,OAAO;YACd,SAAS;YACT,QAAQ,KAAK,CAAC;QAChB;IACF;IACA,MAAM,iBAAiB;QACrB,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAK,UAAU;;8BACd,8OAAC,0IAAA,CAAA,YAAS;oBACR,OAAM;oBACN,MAAK;oBACL,IAAG;oBACH,MAAK;oBACL,OAAO,SAAS,KAAK;oBACrB,UAAU;;;;;;8BAEZ,8OAAC,0IAAA,CAAA,YAAS;oBACR,OAAM;oBACN,IAAG;oBACH,MAAK;oBACL,MAAK;oBACL,OAAO,SAAS,QAAQ;oBACxB,UAAU;;;;;;gBAGX,uBACC,8OAAC;oBAAI,WAAU;8BAAoC;;;;;;8BAErD,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BACC,WAAU;4BACV,MAAK;sCACN;;;;;;sCAGD,8OAAC;4BACC,WAAU;4BACV,MAAK;4BACL,SAAS;sCACV;;;;;;;;;;;;;;;;;;;;;;;AAOX"}},
    {"offset": {"line": 387, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 393, "column": 0}, "map": {"version":3,"sources":["file:///Users/mrowlise/kashikuroni_tech/base_project_tamplate/frontend/src/app/auth/sign_in/page.tsx"],"sourcesContent":["import React from \"react\";\nimport { AuthForm } from \"@/components/AuthForm/AuthForm\";\n\n\nconst LoginForm: React.FC = () => {\n  return (\n    <>\n      <AuthForm/>\n    </>\n  );\n};\n\nexport default LoginForm;\n"],"names":[],"mappings":";;;;AACA;;;AAGA,MAAM,YAAsB;IAC1B,qBACE;kBACE,cAAA,8OAAC,0IAAA,CAAA,WAAQ;;;;;;AAGf;uCAEe"}},
    {"offset": {"line": 410, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 421, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 421, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}